"""
生成100本图书数据并插入数据库
"""
import sqlite3
import random

# 图书数据
books_data = [
    # 编程类
    ("Python编程：从入门到实践", "埃里克·马瑟斯", "编程", "9787115546081"),
    ("JavaScript高级程序设计", "马特·弗里斯比", "编程", "9787115545381"),
    ("深入理解Java虚拟机", "周志明", "编程", "9787111641247"),
    ("算法导论", "托马斯·科尔曼", "编程", "9787111407010"),
    ("代码大全", "史蒂夫·麦康奈尔", "编程", "9787121022982"),
    ("设计模式：可复用面向对象软件的基础", "Erich Gamma", "编程", "9787111075752"),
    ("C++ Primer", "Stanley B. Lippman", "编程", "9787121155352"),
    ("数据结构与算法分析", "马克·艾伦·维斯", "编程", "9787302330646"),
    ("计算机程序的构造和解释", "Harold Abelson", "编程", "9787111135104"),
    ("重构：改善既有代码的设计", "马丁·福勒", "编程", "9787115508653"),
    ("程序员修炼之道", "大卫·托马斯", "编程", "9787121419362"),
    ("Clean Code", "罗伯特·C·马丁", "编程", "9787115216878"),
    ("Python Cookbook", "大卫·比斯利", "编程", "9787115379382"),
    ("深入浅出设计模式", "Eric Freeman", "编程", "9787508353937"),
    ("Go语言实战", "威廉·肯尼迪", "编程", "9787115445353"),
    ("Vue.js设计与实现", "霍春阳", "编程", "9787115583864"),
    ("React技术揭秘", "卡西迪·威廉姆斯", "编程", "9787121428807"),
    ("TypeScript编程", "鲍里斯·切尔尼", "编程", "9787115536952"),
    ("Linux命令行与shell脚本编程大全", "理查德·布鲁姆", "编程", "9787115515018"),
    ("Docker实战", "伊恩·米尔", "编程", "9787115458261"),
    
    # 文学类
    ("百年孤独", "加西亚·马尔克斯", "文学", "9787544291170"),
    ("活着", "余华", "文学", "9787506365437"),
    ("围城", "钱钟书", "文学", "9787020090006"),
    ("红楼梦", "曹雪芹", "文学", "9787020002207"),
    ("平凡的世界", "路遥", "文学", "9787530216781"),
    ("追风筝的人", "卡勒德·胡赛尼", "文学", "9787208061644"),
    ("三体", "刘慈欣", "文学", "9787536692930"),
    ("白夜行", "东野圭吾", "文学", "9787544270878"),
    ("挪威的森林", "村上春树", "文学", "9787532725694"),
    ("解忧杂货店", "东野圭吾", "文学", "9787544267618"),
    ("小王子", "安托万·德·圣-埃克苏佩里", "文学", "9787020042494"),
    ("傲慢与偏见", "简·奥斯汀", "文学", "9787020087488"),
    ("飘", "玛格丽特·米切尔", "文学", "9787544247993"),
    ("老人与海", "海明威", "文学", "9787532758234"),
    ("月亮与六便士", "毛姆", "文学", "9787532745524"),
    ("霍乱时期的爱情", "马尔克斯", "文学", "9787544238120"),
    ("一九八四", "乔治·奥威尔", "文学", "9787530210291"),
    ("了不起的盖茨比", "菲茨杰拉德", "文学", "9787544253154"),
    ("呼啸山庄", "艾米莉·勃朗特", "文学", "9787532764792"),
    ("安娜·卡列尼娜", "列夫·托尔斯泰", "文学", "9787020090013"),
    
    # 科技类
    ("时间简史", "史蒂芬·霍金", "科技", "9787535732309"),
    ("未来简史", "尤瓦尔·赫拉利", "科技", "9787508672069"),
    ("人类简史", "尤瓦尔·赫拉利", "科技", "9787508647357"),
    ("基因传", "悉达多·穆克吉", "科技", "9787508682792"),
    ("物种起源", "达尔文", "科技", "9787100024457"),
    ("宇宙", "卡尔·萨根", "科技", "9787020087259"),
    ("自私的基因", "理查德·道金斯", "科技", "9787508644561"),
    ("上帝掷骰子吗", "曹天元", "科技", "9787559626523"),
    ("从一到无穷大", "乔治·伽莫夫", "科技", "9787030185754"),
    ("费曼物理学讲义", "费曼", "科技", "9787535758859"),
    ("人工智能：现代方法", "斯图尔特·罗素", "科技", "9787302395768"),
    ("深度学习", "Ian Goodfellow", "科技", "9787115461476"),
    ("机器学习", "周志华", "科技", "9787302423287"),
    ("信息简史", "詹姆斯·格雷克", "科技", "9787115292438"),
    ("失控", "凯文·凯利", "科技", "9787513300711"),
    
    # 历史类
    ("万历十五年", "黄仁宇", "历史", "9787108009821"),
    ("明朝那些事儿", "当年明月", "历史", "9787213041686"),
    ("人类群星闪耀时", "斯蒂芬·茨威格", "历史", "9787108009838"),
    ("全球通史", "斯塔夫里阿诺斯", "历史", "9787301109489"),
    ("枪炮、病菌与钢铁", "贾雷德·戴蒙德", "历史", "9787532739387"),
    ("史记", "司马迁", "历史", "9787101066463"),
    ("资治通鉴", "司马光", "历史", "9787101054491"),
    ("光荣与梦想", "威廉·曼彻斯特", "历史", "9787508665917"),
    ("第二次世界大战史", "利德尔·哈特", "历史", "9787532749263"),
    ("世界秩序", "亨利·基辛格", "历史", "9787508651965"),
    
    # 经济类
    ("国富论", "亚当·斯密", "经济", "9787100024570"),
    ("资本论", "卡尔·马克思", "经济", "9787010035406"),
    ("经济学原理", "曼昆", "经济", "9787301150894"),
    ("穷查理宝典", "彼得·考夫曼", "经济", "9787508663326"),
    ("黑天鹅", "纳西姆·塔勒布", "经济", "9787508684390"),
    ("思考快与慢", "丹尼尔·卡尼曼", "经济", "9787508633558"),
    ("魔鬼经济学", "史蒂芬·列维特", "经济", "9787508646428"),
    ("牛奶可乐经济学", "罗伯特·弗兰克", "经济", "9787300099958"),
    ("影响力", "罗伯特·西奥迪尼", "经济", "9787547011195"),
    ("金融炼金术", "乔治·索罗斯", "经济", "9787550200319"),
    
    # 艺术类
    ("艺术的故事", "贡布里希", "艺术", "9787549539772"),
    ("梵高传", "史蒂文·奈菲", "艺术", "9787544263962"),
    ("西方美术史", "邵大箴", "艺术", "9787040211177"),
    ("设计中的设计", "原研哉", "艺术", "9787532725533"),
    ("建筑的永恒之道", "克里斯托弗·亚历山大", "艺术", "9787801877345"),
    ("写给大家看的设计书", "罗宾·威廉姆斯", "艺术", "9787115219947"),
    ("配色设计原理", "伊達千代", "艺术", "9787115202628"),
    ("点石成金", "史蒂夫·克鲁格", "艺术", "9787111165057"),
    ("交互设计精髓", "艾伦·库珀", "艺术", "9787121225895"),
    ("简约至上", "Giles Colborne", "艺术", "9787115249173"),
    
    # 科幻类
    ("银河帝国：基地", "艾萨克·阿西莫夫", "科幻", "9787539932224"),
    ("神经漫游者", "威廉·吉布森", "科幻", "9787544283373"),
    ("安德的游戏", "奥森·斯科特·卡德", "科幻", "9787559400406"),
    ("沙丘", "弗兰克·赫伯特", "科幻", "9787539985411"),
    ("2001太空漫游", "阿瑟·克拉克", "科幻", "9787208139350"),
    ("华氏451度", "雷·布拉德伯里", "科幻", "9787532147649"),
    ("仿生人会梦见电子羊吗", "菲利普·迪克", "科幻", "9787544761369"),
    ("三体II：黑暗森林", "刘慈欣", "科幻", "9787536693968"),
    ("三体III：死神永生", "刘慈欣", "科幻", "9787229030933"),
    ("流浪地球", "刘慈欣", "科幻", "9787512507692"),
]

def generate_books():
    # 连接数据库
    conn = sqlite3.connect('d:/tool/book/library.db')
    cursor = conn.cursor()
    
    # 清空现有图书（可选）
    cursor.execute("DELETE FROM books")
    
    # 插入100本书
    for i, (title, author, category, isbn) in enumerate(books_data):
        total_count = random.randint(3, 10)
        available_count = random.randint(1, total_count)
        
        # 使用占位符封面URL（Open Library）
        cover = f"https://covers.openlibrary.org/b/isbn/{isbn}-L.jpg" if isbn else ""
        
        cursor.execute("""
            INSERT INTO books (title, author, isbn, category, cover, total_count, available_count)
            VALUES (?, ?, ?, ?, ?, ?, ?)
        """, (title, author, isbn, category, cover, total_count, available_count))
    
    conn.commit()
    print(f"✅ 成功插入 {len(books_data)} 本图书到数据库！")
    
    # 显示统计
    cursor.execute("SELECT category, COUNT(*) FROM books GROUP BY category")
    print("\n📊 分类统计：")
    for cat, count in cursor.fetchall():
        print(f"  {cat}: {count} 本")
    
    conn.close()

if __name__ == "__main__":
    generate_books()
